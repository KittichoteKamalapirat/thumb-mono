# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type TestHistory {
  date: String!
  valueIndex: Float!
}

type Testing {
  id: ID!
  type: String!
  status: String!
  duration: Int!
  durationType: String!
  videoId: String!
  startDate: String!
  channelId: String!
  history: [TestHistory!]!
  ori: String!
  varis: [String!]!
  channel: Channel!
  createdAt: DateTime!
  updatedAt: DateTime!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Token {
  refresh_token: String!
  access_token: String!
}

type Subscription {
  id: ID!
  stripeSubscriptionId: String!
  stripePriceId: String!
  stripeCustomerId: String!
  stripeProductId: String!
  status: String!
  createdAt: DateTime!
  updatedAt: DateTime!
  customerId: String!
  customer: Customer!
}

type Customer {
  id: ID!
  stripeId: String!
  subscriptions: [Subscription!]!
  userId: String!
  user: User!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type User {
  id: ID!
  email: String!
  membership: String!
  token: Token!
  channels: [Channel!]!
  createdAt: DateTime!
  updatedAt: DateTime!
  customer: Customer
}

type Channel {
  id: ID!
  ytChannelId: String!
  channelName: String!
  createdAt: DateTime!
  userId: String!
  user: User!
  updatedAt: DateTime!
  testings: [Testing!]!
}

type FieldError {
  field: String!
  message: String!
}

type LoginResponse {
  errors: [FieldError!]
  channel: Channel
  user: User
}

type TestingResponse {
  errors: [FieldError!]
  testing: Testing
}

type YoutubeVideo {
  videoId: String!
  thumbUrl: String!
  title: String!
}

type SummaryItem {
  subject: String!
  videoId: String!
  views: Float!
  annotationClickThroughRate: Float!
  annotationCloseRate: Float!
  annotationClickableImpressions: Float!
  averageViewDuration: Float!
  comments: Float!
  dislikes: Float!
  estimatedMinutesWatched: Float!
  likes: Float!
  shares: Float!
  subscribersGained: Float!
  subscribersLost: Float!
}

type StringResponse {
  errors: [FieldError!]
  value: String
}

type Query {
  getEmail: String!
  users: [User!]!
  user(id: String!): User!
  meUser: User
  channels: [Channel!]!
  channel(id: Int!): Channel!
  meChannel: Channel
  myTestings: [Testing!]!
  testing(id: String!): Testing
  videos(channelId: String!): [YoutubeVideo!]!
  stats(testingId: String!): [SummaryItem!]!
  subscriptions: [Subscription!]!
  subscription(id: Int!): Subscription!
  customers: [Customer!]!
  customer(id: String!): Customer!
}

type Mutation {
  removeUser(id: String!): User!
  getAuthURL: String!
  createAndSaveTokens(code: String!): LoginResponse!
  logout: Boolean!
  createChannel(createChannelInput: CreateChannelInput!): Channel!
  createTesting(input: CreateTestingInput!): TestingResponse!
  updateTesting(updateTestingInput: UpdateTestingInput!): Testing!
  removeTesting(id: Int!): Testing!
  createBillingPortalUrl: StringResponse!
  createSubscription(createSubscriptionInput: CreateSubscriptionInput!): Subscription!
  removeSubscription(id: Int!): Subscription!
  createCustomer(createCustomerInput: CreateCustomerInput!): Customer!
  updateCustomer(updateCustomerInput: UpdateCustomerInput!): Customer!
  removeCustomer(id: String!): Customer!
}

input CreateChannelInput {
  ytChannelId: String!
  channelName: String!
  userId: String!
}

input CreateTestingInput {
  channelId: String!
  type: String!
  videoId: String!
  duration: Float!
  durationType: String!
  ori: String!
  varis: [String!]!
}

input UpdateTestingInput {
  channelId: String
  type: String
  videoId: String
  duration: Float
  durationType: String
  ori: String
  varis: [String!]
  id: Int!
}

input CreateSubscriptionInput {
  stripeSubscriptionId: String!
  stripePriceId: String!
  stripeCustomerId: String!
  stripeProductId: String!
  status: String!
  customerId: String!
}

input CreateCustomerInput {
  stripeId: String!
  userId: String!
}

input UpdateCustomerInput {
  stripeId: String
  userId: String
  id: String!
}